<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="695px" height="813px" viewBox="-0.5 -0.5 695 813" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-07-09T18:59:43.572Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36&quot; etag=&quot;WPC3nHbkRfoVhbhQZaxR&quot; version=&quot;20.0.4&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;UZMGA-ISJ-aZ0s8vW6Xs&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="515" y="0" width="179" height="335" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="163" y="0" width="295" height="812" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 204 758 Q 20.04 758 20 462.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 20 457.12 L 23.5 464.12 L 20 462.37 L 16.5 464.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 354 728 L 603 728 L 603 316.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 603 311.12 L 606.5 318.12 L 603 316.37 L 599.5 318.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="204" y="713" width="150" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 142px; height: 1px; padding-top: 703px; margin-left: 209px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 70px; overflow: hidden;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1 style="font-size: 11px;">Public endpoints</h1><div style="font-size: 11px;">'POST /auth/<span style="background-color: initial;">signup'</span></div><div style="font-size: 11px;">'POST /auth/signin'</div><div style="font-size: 11px;">'POST /auth/refreshTokens'</div></div></div></div></foreignObject><text x="209" y="714" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px">Public endpoints...</text></switch></g><path d="M 320.5 69.5 L 433.24 69.52 L 539.63 69.03" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 544.88 69.01 L 537.9 72.54 L 539.63 69.03 L 537.87 65.54 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 197.86 122.21 L 197.86 158.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 197.86 163.88 L 194.36 156.88 L 197.86 158.63 L 201.36 156.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 180.5 104.5 Q 42.52 104.48 42.5 395.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 42.5 400.88 L 39 393.88 L 42.5 395.63 L 46 393.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="180.5" y="52" width="140" height="70" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 132px; height: 1px; padding-top: 42px; margin-left: 186px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 80px; overflow: hidden;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><h1 style="font-size: 11px;">Auth needed endpoints</h1><div style="font-size: 11px;"><div>'GET /users/me':Â </div><div>'GET /<span style="background-color: initial;">users/</span><span style="background-color: initial;">:id'</span></div><div>'PATCH /<span style="background-color: initial;">users/</span><span style="background-color: initial;">:id'</span></div></div></div></div></div></foreignObject><text x="186" y="53" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px">Auth needed endpoints...</text></switch></g><rect x="163" y="0" width="80" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 15px; margin-left: 164px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">api-gateway</div></div></div></foreignObject><text x="203" y="19" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">api-gateway</text></switch></g><path d="M 35 396 Q 35 87.04 174.13 87" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 179.38 87 L 172.38 90.5 L 174.13 87 L 172.38 83.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 50 456 Q 50.04 743.04 197.63 743" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 202.88 743 L 195.88 746.5 L 197.63 743 L 195.88 739.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="35" cy="403.5" rx="7.5" ry="7.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 35 411 L 35 436 M 35 416 L 20 416 M 35 416 L 50 416 M 35 436 L 20 456 M 35 436 L 50 456" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 463px; margin-left: 35px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ</div></div></div></foreignObject><text x="35" y="474" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ</text></switch></g><path d="M 215.5 165 L 215.5 128.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 215.5 123.12 L 219 130.12 L 215.5 128.37 L 212 130.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="180.5" y="165" width="268" height="507" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="183" y="165" width="135" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 175px; margin-left: 184px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">authorization middleware</div></div></div></foreignObject><text x="251" y="178" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">authorization middleware</text></switch></g><path d="M 263 286 L 245.48 286 L 245.5 349.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 245.5 354.88 L 242 347.88 L 245.5 349.63 L 249 347.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 280px; margin-left: 252px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><b>no</b></div></div></div></foreignObject><text x="252" y="283" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">no</text></switch></g><path d="M 366 286 L 385.64 286 L 385.57 349.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 385.56 354.88 L 382.07 347.88 L 385.57 349.63 L 389.07 347.89 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 280px; margin-left: 377px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><b>yes</b></div></div></div></foreignObject><text x="377" y="283" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">yes</text></switch></g><path d="M 314.5 244 L 366 286 L 314.5 328 L 263 286 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 101px; height: 1px; padding-top: 286px; margin-left: 264px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">'authorization' header contains token?</div></div></div></foreignObject><text x="315" y="288" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">'authorization' header co...</text></switch></g><ellipse cx="314.5" cy="203" rx="11" ry="11" fill="#000000" stroke="#ff0000" pointer-events="all"/><path d="M 314.5 218 Q 314.5 218 314.5 241.76" fill="none" stroke="#ff0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 233.88 L 314.5 242.88 L 319 233.88" fill="none" stroke="#ff0000" stroke-miterlimit="10" pointer-events="all"/><path d="M 546 87.04 L 491 87.04 L 326.87 87.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 321.62 87.04 L 328.62 83.54 L 326.87 87.04 L 328.62 90.54 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="546" y="54" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="546" y="57" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 67px; margin-left: 547px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Users</div></div></div></foreignObject><text x="566" y="71" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Users</text></switch></g><rect x="516" y="3" width="70" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 68px; height: 1px; padding-top: 18px; margin-left: 517px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">users-auth</div></div></div></foreignObject><text x="551" y="22" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">users-auth</text></switch></g><path d="M 543 297.04 L 530.04 297.04 L 530.04 388 L 428.97 388" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 423.72 388 L 430.72 384.5 L 428.97 388 L 430.72 391.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 379px; margin-left: 477px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><b>user or InvalidTokenError</b></div></div></div></foreignObject><text x="477" y="381" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">user or InvalidTokenError</text></switch></g><path d="M 633 310 L 633 758 L 360.37 758" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 355.12 758 L 362.12 754.5 L 360.37 758 L 362.12 761.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="543" y="250" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="543" y="250" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 260px; margin-left: 544px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">Auth</div></div></div></foreignObject><text x="563" y="264" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Auth</text></switch></g><path d="M 245.5 398 L 245.48 427.04 L 191.48 427.04 L 191.48 606 L 314.52 606 L 314.51 623.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 314.5 628.88 L 311.01 621.88 L 314.51 623.63 L 318.01 621.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="208.5" y="356" width="74" height="42" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 72px; height: 1px; padding-top: 377px; margin-left: 210px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">return <b>UnauthorizedError</b></div></div></div></foreignObject><text x="246" y="379" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">return Unauthorize...</text></switch></g><path d="M 422.1 369.19 L 498.04 369.2 L 498.04 289.04 L 536.63 289.01" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 541.88 289 L 534.89 292.51 L 536.63 289.01 L 534.88 285.51 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 357px; margin-left: 459px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><b>resolve<br />accessToken</b></div></div></div></foreignObject><text x="459" y="359" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">resolve...</text></switch></g><path d="M 385.56 398 L 385.56 415.04 L 314.52 415.04 L 314.52 428.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 314.52 433.9 L 311.02 426.9 L 314.52 428.65 L 318.02 426.9 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="348.5" y="356" width="74.12" height="42" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 72px; height: 1px; padding-top: 377px; margin-left: 349px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">resolve access token</div></div></div></foreignObject><text x="386" y="379" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">resolve access tok...</text></switch></g><path d="M 263.05 477.04 L 245.48 477.04 L 245.5 541.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 245.5 546.88 L 242 539.88 L 245.5 541.63 L 249 539.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 470px; margin-left: 252px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><b>no</b></div></div></div></foreignObject><text x="252" y="473" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">no</text></switch></g><path d="M 365.95 477.04 L 385.48 477.04 L 385.48 541.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 385.48 546.88 L 381.98 539.88 L 385.48 541.63 L 388.98 539.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 469px; margin-left: 374px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><b>yes</b></div></div></div></foreignObject><text x="374" y="472" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">yes</text></switch></g><path d="M 314.5 435 L 366 477 L 314.5 519 L 263 477 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 101px; height: 1px; padding-top: 477px; margin-left: 264px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">is access token<br />resolved?</div></div></div></foreignObject><text x="315" y="479" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">is access token...</text></switch></g><path d="M 245.48 590 L 245.48 606 L 314.52 606 L 314.51 623.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 314.5 628.88 L 311.01 621.88 L 314.51 623.63 L 318.01 621.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="208.5" y="548" width="74" height="42" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 72px; height: 1px; padding-top: 569px; margin-left: 210px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">return <b>UnauthorizedError</b></div></div></div></foreignObject><text x="246" y="571" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">return Unauthorize...</text></switch></g><path d="M 385.56 590 L 385.56 606 L 314.52 606 L 314.51 623.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 314.5 628.88 L 311.01 621.88 L 314.51 623.63 L 318.01 621.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="348.5" y="548" width="74.12" height="42" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 72px; height: 1px; padding-top: 569px; margin-left: 349px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">inject resolved 'user' in request context</div></div></div></foreignObject><text x="386" y="571" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">inject resolved 'u...</text></switch></g><ellipse cx="314.5" cy="645" rx="11" ry="11" fill="#000000" stroke="#ff0000" pointer-events="all"/><ellipse cx="314.5" cy="645" rx="15" ry="15" fill="none" stroke="#ff0000" pointer-events="all"/><ellipse cx="207.5" cy="143.5" rx="8.5" ry="9.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 15px; height: 1px; padding-top: 144px; margin-left: 200px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 14px;"><b>1</b></font></div></div></div></foreignObject><text x="208" y="146" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">1</text></switch></g><ellipse cx="437.5" cy="77.5" rx="8.5" ry="9.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 15px; height: 1px; padding-top: 78px; margin-left: 430px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 14px;"><b>2</b></font></div></div></div></foreignObject><text x="438" y="80" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">2</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>